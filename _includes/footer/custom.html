<!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Swiper
    new Swiper("#mmmd-swiper", {
      loop: false,
      spaceBetween: 12,
      slidesPerView: 1,
      navigation: {
        nextEl: "#mmmd-next",
        prevEl: "#mmmd-prev",
      },
      pagination: {
        el: "#mmmd-pagination",
        clickable: true,
      },
      breakpoints: {
        720: { slidesPerView: 2 },
        1024: { slidesPerView: 3 },
      }
    });

    // GLightbox (click to zoom)
    if (window.mmmdLightbox) {
      window.mmmdLightbox.destroy();
      window.mmmdLightbox = null;
    }
    if (window.GLightbox) {
      window.mmmdLightbox = GLightbox({
        selector: "#mmmd-swiper a.glightbox"
      });
    }

    // abstract click-to-expand
    document.querySelectorAll(".pub-abstract[data-expandable]").forEach(p => {
      p.addEventListener("click", () => {
        const isCollapsed = p.classList.contains("is-collapsed");
        if (isCollapsed) {
          p.classList.remove("is-collapsed");
          p.classList.add("is-expanded");
        } else {
          p.classList.add("is-collapsed");
          p.classList.remove("is-expanded");
        }
      });
    });
  });
</script>

<!-- end custom footer snippets -->
